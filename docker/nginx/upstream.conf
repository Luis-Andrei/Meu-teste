# Upstream configuration for auth service
upstream auth-service {
    server auth-service:3000;
    keepalive 32;
}

# Upstream configuration for ecommerce service
upstream ecommerce-service {
    server ecommerce-service:5000;
    keepalive 32;
}

# Upstream configuration for bank service
upstream bank-service {
    server bank-service:8081;
    keepalive 32;
}

# Upstream configuration for auth frontend
upstream auth-frontend {
    server auth-frontend:3001;
    keepalive 32;
}

# Upstream configuration for ecommerce frontend
upstream ecommerce-frontend {
    server ecommerce-frontend:3002;
    keepalive 32;
}

# Upstream configuration for api gateway
upstream api-gateway {
    server api-gateway:8080;
    keepalive 32;
}

# Upstream configuration for prometheus
upstream prometheus {
    server prometheus:9090;
    keepalive 32;
}

# Upstream configuration for grafana
upstream grafana {
    server grafana:3000;
    keepalive 32;
}

# Upstream configuration for alertmanager
upstream alertmanager {
    server alertmanager:9093;
    keepalive 32;
}

# Upstream configuration for node-exporter
upstream node-exporter {
    server node-exporter:9100;
    keepalive 32;
}

# Upstream configuration for cadvisor
upstream cadvisor {
    server cadvisor:8080;
    keepalive 32;
}

# Upstream configuration for blackbox-exporter
upstream blackbox-exporter {
    server blackbox-exporter:9115;
    keepalive 32;
}

# Upstream configuration for pushgateway
upstream pushgateway {
    server pushgateway:9091;
    keepalive 32;
}

# Upstream configuration for mongodb-exporter
upstream mongodb-exporter {
    server mongodb-exporter:9216;
    keepalive 32;
}

# Upstream configuration for redis-exporter
upstream redis-exporter {
    server redis-exporter:9121;
    keepalive 32;
}

# Upstream configuration for postgres-exporter
upstream postgres-exporter {
    server postgres-exporter:9187;
    keepalive 32;
}

# Upstream configuration for elasticsearch-exporter
upstream elasticsearch-exporter {
    server elasticsearch-exporter:9114;
    keepalive 32;
}

# Upstream configuration for rabbitmq-exporter
upstream rabbitmq-exporter {
    server rabbitmq-exporter:9419;
    keepalive 32;
}

# Upstream configuration for kafka-exporter
upstream kafka-exporter {
    server kafka-exporter:9308;
    keepalive 32;
}

# Upstream configuration for nginx-exporter
upstream nginx-exporter {
    server nginx-exporter:9113;
    keepalive 32;
}

# Upstream configuration for haproxy-exporter
upstream haproxy-exporter {
    server haproxy-exporter:9101;
    keepalive 32;
}

# Upstream configuration for varnish-exporter
upstream varnish-exporter {
    server varnish-exporter:9131;
    keepalive 32;
}

# Upstream configuration for memcached-exporter
upstream memcached-exporter {
    server memcached-exporter:9150;
    keepalive 32;
}

# Upstream configuration for jmx-exporter
upstream jmx-exporter {
    server jmx-exporter:5556;
    keepalive 32;
}

# Upstream configuration for statsd-exporter
upstream statsd-exporter {
    server statsd-exporter:9102;
    keepalive 32;
}

# Upstream configuration for graphite-exporter
upstream graphite-exporter {
    server graphite-exporter:9108;
    keepalive 32;
}

# Upstream configuration for influxdb-exporter
upstream influxdb-exporter {
    server influxdb-exporter:9122;
    keepalive 32;
}

# Upstream configuration for consul-exporter
upstream consul-exporter {
    server consul-exporter:9107;
    keepalive 32;
}

# Upstream configuration for etcd-exporter
upstream etcd-exporter {
    server etcd-exporter:9222;
    keepalive 32;
}

# Upstream configuration for zookeeper-exporter
upstream zookeeper-exporter {
    server zookeeper-exporter:9141;
    keepalive 32;
}

# Upstream configuration for kube-state-metrics
upstream kube-state-metrics {
    server kube-state-metrics:8080;
    keepalive 32;
} 